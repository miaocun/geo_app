
{% extends 'base.html' %}

{% block title %}岩石試料データベーストップ画面{% endblock %}

{% load static %}   

{% block content %}

<div class="card">
    <img class="card-img" src="{% static 'startbootstrap-stylish-portfolio-gh-pages/img/locality.png' %}" style="opacity:90%">
    <div class="card-img-overlay">
        <h2 class="card-title" style="color:rgb(235, 194, 15);text-shadow: 2px 2px 10px #777,-2px 2px 10px #777,2px -2px 10px #777,
        -2px -2px 10px #777;margin:70px 320px  95px  320px;">猫村岩石試料データベース</h2>
        <p class="card-text" style="text-align:right;color:whitesmoke; text-shadow: 2px 2px 10px #777,-2px 2px 10px #777,2px -2px 10px #777,
        -2px -2px 10px #777;">モンゴル西部のウルガマルエクロジャイト風景</p>
    </div>
</div>

<nav class="navbar navbar-expand navbar-dark bg-info">
    <ul class="navbar-nav">
        <li class="nav-item"><a href="{% url 'topfind'%}" class="nav-link" style="color:yellow">検索</a></li>
        <li class="nav-item"><a href="{% url 'topcreate'%}" class="nav-link" style="color:yellow">新規データ追加</a></li>
        <li class="nav-item"><a href="{% url 'locality'%}" class="nav-link" style="color:yellow">地理情報</a></li>
        <li class="nav-item"><a href="{% url 'mission'%}" class="nav-link" style="color:yellow">プロジェクト</a></li>
        <li class="nav-item"><a href="{% url 'collector'%}" class="nav-link" style="color:yellow">保管</a></li> 
</nav>

<div class="table-responsive">
    <table class="table table-warning table-bordered table-hover text-nowrap">
        <thead class="thead-dark">
            <tr>
                <th>ID</th>
                <th>サンプル名</th>
                <th>岩石名</th>
                <th>重さ[グラム]</th>
                <th>採集日</th>
                <th>採取地</th>
                <th>プロジェクト</th>
                <th>保管者</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
    {% for sample in samples %}

        <tr>  
            <td>{{sample.id}}</td>
            <td>{{sample.sample_name}}</td>
            <td>{{sample.rock_type}}</td>
            <td>{{sample.weight}}</td>
            <td>{{sample.sampling_date}}</td>
            <td>{% for obj in sample.locality_set.all %}
                <a href="{% url 'locality_detail' obj.id %}">{{obj.terrane}}</a>
                {% empty %}
                <a class="table-danger" href="{% url 'locality_create' %}">{{"不明"}}</a>
                {% endfor %}</td>
            <td>{% for obj in sample.mission_set.all %}
                <a href="{% url 'mission_detail' obj.id %}">{{obj.project}}</a>
                {% empty %}
                <a class="table-danger" href="{% url 'mission_create' %}">{{"不明"}}</a>
                {% endfor %}</td>
            <td>{% for obj in sample.collector_set.all %}
                <a href="{% url 'collector_detail' obj.id %}">{{obj.name}}</a>
                {% empty %}
                <a class="table-danger" href="{% url 'collector_create' %}">{{"不明"}}</a>
                {% endfor %}</td>
            <td><a href="{% url 'topedit' sample.id %}">Edit</a></td>
            <td><a href="{% url 'topdelete' sample.id %}">Delete</a></td>
        </tr>
    {% endfor %}
    </table>
</div>

{% if samples.has_previous %}
<a href="?page={{ samples.previous_page_number }}">&lt; 前のページ</a>
{% else %}
<span>&lt; 前のページ</span>
{% endif %}

{{ samples.number }}ページ

{% if samples.has_next %}
<a href="?page={{ samples.next_page_number }}">次のページ &gt;</a>
{% else %}
<span>次のページ &gt;</span>
{% endif %}

{% endblock %}

